<section>
	<h1>Gran Cancionero</h1>
</section>
<section>
	<form onsubmit="event.preventDefault()">
		<fieldset>
			<legend>Buscar un canto:</legend>
			<input type="text" id="songSearchInput" name="cancion" placeholder="Nombre de la canción" autocomplete="off"
				maxlength="50" autofocus (input)="searchSong($event)">
		</fieldset>
	</form>
</section>
<section>
	<form onsubmit="event.preventDefault()">
		<fieldset>
			<legend>Filtrar categorías</legend>
			<div class="flex wrap" id="categories-list-container">
				<span class="category-chip fg-accent p-.25 m-.5" (click)="filterByCategory('all')">Mostrar todo</span>
				@for(category of categories; track category.uniqueId){
				<span class="category-chip fg-accent p-.25 m-.5" (click)="filterByCategory(category.uniqueId)">{{category.name}}</span>
				}
			</div>
		</fieldset>
	</form>
</section>
<section>
	<ul id="filteredSongsListContainer">
		@if(songs.length == 0){
		<li>No hay resultados</li>
		}
		@for(song of songs; track song.uniqueId){
		<li>
			<a [routerLink]="['','song', song.shortId]">
				{{song.shortId}} - {{song.name}}
			</a>
		</li>
		}
	</ul>
</section>

<section class="btn-db-actions">
	<details>
		<summary>
			<span>Acciones en base de datos</span>
		</summary>
		<div class="btn-collection">
			<button class="btn-db-action" (click)="importDataFromFile()">Importar datos</button>
			<button class="btn-db-action" (click)="clearDatabase()">Borrar datos</button>
		</div>
	</details>
</section>