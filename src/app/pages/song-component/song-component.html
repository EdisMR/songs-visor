<div class="flex space-between wrap" id="songControlButtons">
	<div>
		<button class="default" [routerLink]="['']">
			<span>Inicio</span>
		</button>
	</div>
	<div>
		<button class="default" (click)="songMaximizationArea.requestFullscreen()">&#x2927; Maximizar</button>
	</div>
	<div class="flex nowrap" id="transpositionButtons">
		<button class="default" (click)="transposedSong(10)">-1</button>
		<button class="default" (click)="transposedSong(11)">-&#189;</button>
		<button class="default" (click)="resetTransposition()">0</button>
		<button class="default" (click)="transposedSong(1)">+&#189;</button>
		<button class="default" (click)="transposedSong(2)">+1</button>
	</div>
</div>

<section>
	<h1>{{rawSong.shortId}} - {{rawSong.name}}</h1>
	@if(rawSong.author){
	<div>
		{{rawSong.author}}
	</div>
	}

</section>
<section id="songMaximizationArea" #songMaximizationArea>
	<button type="button" id="closeFullscreen" class="fg-accent" (click)="closeFullscreen()">×</button>
	<pre id="songText-processed">
{{rawSong.songText|transpose:transposedValue:false}}
</pre>
</section>

<div>
	<span>Categorías: {{(rawSong.categories|processedCategoriesText)|async}}</span>
</div>
<section class="related-links">
	<div>Enlaces relacionados:</div>
	<ul>
		@if(relatedLinksProcessed.length == 0){
		<li>-- No hay enlaces relacionados. --</li>
		} @else {
		@for(link of relatedLinksProcessed;track link){
		<li>
			<a href="link" target="_blank" rel="noopener noreferrer">{{link}}</a>
		</li>
		}
		}
	</ul>
</section>

<div class="dateRelatedInfo">
	<p>Creado: {{rawSong.dateCreated|parseDate}}</p>
	<p>Modificado: {{rawSong.dateUpdated|parseDate}}</p>
</div>
<hr>
<section id="otherSongsLinks">
	@for(songShortId of otherSongsLinks;track songShortId){
	<a [routerLink]="['','song',songShortId]" class="other-song-link">{{songShortId}}</a>
	}
</section>